<%# Locals: projects: [ { name:, status:, due_on:, created_by:, path:, aria_label_suffix: } ] %>
<ul role="list" class="divide-y divide-gray-100 dark:divide-white/5">
  <% Array(local_assigns[:projects]).each do |p| %>
    <li class="flex items-center justify-between gap-x-6 py-5">
      <div class="min-w-0">
        <div class="flex items-start gap-x-3">
          <p class="text-sm/6 font-semibold text-gray-900 dark:text-white"><%= p[:name] %></p>
          <% if p[:status].present? %>
            <p class="<%= project_status_classes(p[:status]) %>"><%= p[:status] %></p>
          <% end %>
        </div>
        <div class="mt-1 flex items-center gap-x-2 text-xs/5 text-gray-500 dark:text-gray-400">
          <% if p[:due_on].present? %>
            <p class="whitespace-nowrap">Due on <time datetime="<%= p[:due_on].iso8601 %>"><%= l(p[:due_on].to_date, format: :long) %></time></p>
            <svg viewBox="0 0 2 2" class="size-0.5 fill-current"><circle r="1" cx="1" cy="1" /></svg>
          <% end %>
          <% if p[:created_by].present? %>
            <p class="truncate">Created by <%= p[:created_by] %></p>
          <% end %>
        </div>
      </div>
      <div class="flex flex-none items-center gap-x-4">
        <% if p[:path].present? %>
          <%= link_to "View project".html_safe + content_tag(:span, ", #{p[:name]}", class: "sr-only"), p[:path], class: "hidden rounded-md bg-white px-2.5 py-1.5 text-sm font-semibold text-gray-900 shadow-xs inset-ring inset-ring-gray-300 hover:bg-gray-50 sm:block dark:bg-white/10 dark:text-white dark:shadow-none dark:inset-ring-white/5 dark:hover:bg-white/20" %>
        <% end %>
        <el-dropdown class="relative flex-none">
          <button class="relative block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white">
            <span class="absolute -inset-2.5"></span>
            <span class="sr-only">Open options</span>
            <svg viewBox="0 0 20 20" fill="currentColor" data-slot="icon" aria-hidden="true" class="size-5">
              <path d="M10 3a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM10 8.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM11.5 15.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z" />
            </svg>
          </button>
          <el-menu anchor="bottom end" popover class="w-32 origin-top-right rounded-md bg-white py-2 shadow-lg outline-1 outline-gray-900/5 transition transition-discrete [--anchor-gap:--spacing(2)] data-closed:scale-95 data-closed:transform data-closed:opacity-0 data-enter:duration-100 data-enter:ease-out data-leave:duration-75 data-leave:ease-in dark:bg-gray-800 dark:shadow-none dark:-outline-offset-1 dark:outline-white/10">
            <a href="#" class="block px-3 py-1 text-sm/6 text-gray-900 focus:bg-gray-50 focus:outline-hidden dark:text-white dark:focus:bg-white/5">Edit<span class="sr-only">, <%= p[:name] %></span></a>
            <a href="#" class="block px-3 py-1 text-sm/6 text-gray-900 focus:bg-gray-50 focus:outline-hidden dark:text-white dark:focus:bg-white/5">Move<span class="sr-only">, <%= p[:name] %></span></a>
            <a href="#" class="block px-3 py-1 text-sm/6 text-gray-900 focus:bg-gray-50 focus:outline-hidden dark:text-white dark:focus:bg-white/5">Delete<span class="sr-only">, <%= p[:name] %></span></a>
          </el-menu>
        </el-dropdown>
      </div>
    </li>
  <% end %>
</ul>

