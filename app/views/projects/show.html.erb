<div class="my-4 lg:px-4">
  <%= render "shared/page_header",
            title: @project.name,
            breadcrumbs: [
              { name: "Projects", href: projects_path },
              { name: @project.name }
            ],
            actions: (capture do %>
              <div class="space-x-2">
                <% if policy(@project).update? %>
                  <%= link_to "Edit", edit_project_path(@project), class: "btn btn-secondary" %>
                <% end %>
                <% if policy(@project).destroy? %>
                  <%= link_to t("delete"), @project, class: "btn btn-danger btn-outline", data: { turbo_method: :delete, turbo_confirm: t("are_you_sure") } %>
                <% end %>
                <%= link_to "Back", projects_path, class: "btn btn-light" %>
              </div>
            <% end) %>

  <div class="lg:mt-6 lg:p-10 p-4 bg-white rounded-lg border border-gray-200 dark:bg-gray-900 dark:border-gray-800">
      <dl class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <div>
          <dt class="text-xs uppercase text-gray-500 dark:text-gray-300">Address</dt>
          <dd class="text-sm"><%= @project.address.presence || "â€”" %></dd>
        </div>
        <div>
          <dt class="text-xs uppercase text-gray-500 dark:text-gray-300">Type</dt>
          <dd class="text-sm"><%= @project.project_type.humanize %></dd>
        </div>
        <div>
          <dt class="text-xs uppercase text-gray-500 dark:text-gray-300">Square Footage</dt>
          <dd class="text-sm"><%= number_with_delimiter(@project.square_footage) if @project.square_footage.present? %></dd>
        </div>
        <div>
          <dt class="text-xs uppercase text-gray-500 dark:text-gray-300">Created</dt>
          <dd class="text-sm"><%= @project.created_at.strftime("%b %e, %Y") %></dd>
        </div>
      </dl>
  </div>

  <!-- Bill of Quantities -->
  <div class="px-4 sm:px-6 lg:px-8 mt-8">
    <div class="sm:flex sm:items-center">
      <div class="sm:flex-auto">
        <h2 class="text-base font-semibold text-gray-900 dark:text-white">Bill of Quantities</h2>
        <p class="mt-2 text-sm text-gray-700 dark:text-gray-300">List of bills for this project with created date and status.</p>
      </div>
      <div class="mt-4 sm:mt-0 sm:ml-16 sm:flex-none">
        <% if policy(@project).update? %>
          <%= link_to "New Bill of Quantities", project_bills_path(@project), data: { turbo_method: :post }, class: "block rounded-md bg-indigo-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 dark:bg-indigo-500 dark:hover:bg-indigo-400 dark:focus-visible:outline-indigo-500" %>
        <% end %>
      </div>
    </div>
    <div class="mt-8 flow-root">
      <div class="-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">
        <div class="inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8">
          <div class="overflow-hidden shadow-sm outline-1 outline-black/5 sm:rounded-lg dark:shadow-none dark:-outline-offset-1 dark:outline-white/10">
            <table class="relative min-w-full divide-y divide-gray-300 dark:divide-white/15">
              <thead class="bg-gray-50 dark:bg-gray-800/75">
                <tr>
                  <th scope="col" class="py-3.5 pr-3 pl-4 text-left text-sm font-semibold text-gray-900 sm:pl-6 dark:text-gray-200">Created</th>
                  <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-gray-200">Status</th>
                  <th scope="col" class="py-3.5 pr-4 pl-3 sm:pr-6">
                    <span class="sr-only">Edit</span>
                  </th>
                </tr>
              </thead>
              <tbody id="bills" class="divide-y divide-gray-200 bg-white dark:divide-white/10 dark:bg-gray-800/50">
                <%= render partial: "bills/row", collection: @project.bills.order(created_at: :desc), as: :bill %>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
